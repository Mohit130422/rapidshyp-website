function trackBy(e){e?window.open("https://app.rapidshyp.com/t/"+e,"_blank"):$("#responseMessage").html("AWB number is not available.")}$(window).on("scroll",(function(){$(window).scrollTop()>50?($(".navbar-expand-lg").addClass("active-head"),$(".navbar-collapse").removeClass("show"),$("#navbar-close").addClass("hidden"),$(".navbar-toggler-icon").removeClass("hidden")):$(".navbar").removeClass("active-head")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("resources"),t=document.getElementById("sub-menu");e.addEventListener("click",(function(e){e.stopPropagation(),t.style.display="none"===t.style.display?"block":"none"})),document.addEventListener("click",(function(s){t.contains(s.target)||s.target===e||(t.style.display="none")})),document.addEventListener("scroll",(function(){t.style.display="none"}))})),$(document).ready((function(){function e(e){"order_id"===e?($("#orderInput").removeClass("hidden"),$("#awbInput").addClass("hidden")):($("#orderInput").addClass("hidden"),$("#awbInput").removeClass("hidden"))}$((function(){$("#ChangeToggle").click((function(){$(".navbar-toggler-icon").toggleClass("hidden"),$("#navbar-close").toggleClass("hidden")}))})),$(".active").on("mouseenter",(function(){$(this).carousel("pause")}),(function(){$(this).carousel("cycle")})),$(".openWaitlistModal").click((function(){$("#joinWaitlistModal").css("display","flex")})),$(".close").click((function(){$("#joinWaitlistModal").hide(),$("#diwaliOffer").hide()})),$("#submit-button").submit((function(e){var t=$("#useremail").val();return $("#joinWaitlistModal").css("display","flex"),$("#email").val(t),!1})),$(".scrollDown").click((function(){$("html, body").animate({scrollTop:$("#rateCal").offset().top},100)})),$("#explore-form").submit((function(e){var t=$("#explore-email").val();return $("#joinWaitlistModal").css("display","flex"),$("#email").val(t),!1})),$(".php-email-form").on("submit",(function(e){e.preventDefault();var t=$(this).serializeArray(),s={};t.forEach((function(e){s[e.name]=e.value}));var a=JSON.stringify(s);return $(".loading").show(),$(".error-message").hide(),$(".sent-message").hide(),$.ajax({url:"https://www.rapidshyp.com/webhooks/receive_lead.php",type:"POST",data:a,contentType:"application/json",dataType:"json",success:function(e){e.success?($(".sent-message").text(e.message),$(".sent-message").show(),$(".php-email-form").trigger("reset")):($(".error-message").text(e.message),$(".error-message").show()),$(".loading").hide(),gtag_report_conversion(window.location),$("#thankyou").css("display","flex")},error:function(e,t,s){$(".error-message").text("There was an error sending your message. Please try again later.").show(),$(".loading").hide()}}),!1})),$("#product-carousel").owlCarousel({loop:!0,margin:10,nav:!1,dots:!1,autoplay:!0,autoplayTimeout:8e3,autoplayHoverPause:!0,responsive:{0:{items:1},600:{items:2},1e3:{items:5}}}),$("#key-features").owlCarousel({loop:!1,margin:20,responsive:{0:{items:1,loop:!0,dots:!1,autoplay:!0,slideTransition:"linear",autoplayTimeout:4e3,autoplaySpeed:4e3,autoplayHoverPause:!0},600:{items:2},1e3:{items:4}}}),$("#feature-carousel").owlCarousel({loop:!0,margin:10,responsiveClass:!0,responsive:{0:{items:1,nav:!0},600:{items:3,nav:!1},1e3:{items:3,nav:!1,loop:!1}}}),$("#shiprates-carousel").owlCarousel({loop:!0,margin:10,responsiveClass:!0,responsive:{0:{items:1,nav:!0},600:{items:3,nav:!1},1e3:{items:4,nav:!1,loop:!1}}}),$("#publishers").owlCarousel({loop:!1,margin:20,loop:!0,dots:!1,autoplay:!0,slideTransition:"linear",autoplayTimeout:4e3,autoplaySpeed:4e3,autoplayHoverPause:!0,responsive:{0:{items:2},600:{items:4},1e3:{items:5}}}),$('input[name="lookupType"]').change((function(){const t=$(this).val();localStorage.setItem("lookupType",t),e(t),$(".tracking-table").addClass("hidden")})),$(document).ready((function(){e($('input[name="lookupType"]:checked').val())})),$("#mobile_no").on("input",(function(){this.value=this.value.replace(/\D/g,""),this.value.length>10&&(this.value=this.value.slice(0,10))})),$("#lookupForm").submit((function(e){e.preventDefault();let t={};if("order_id"===$('input[name="lookupType"]:checked').val()){let e=$("#mobile_no").val();if(!/^\d{10}$/.test(e))return void $("#responseMessage").html("Please enter a valid 10-digit mobile number.");t={order_id:$("#order_id").val(),mobile_no:e,csrf:$("#csrf").val()}}else t={awb_no:$("#awb_no").val(),csrf:$("#csrf").val()};$(".ship-loading").show(),$.ajax({url:"lookup.php",type:"POST",data:t,dataType:"json",success:function(e){if(e.success){let t=e.records,s=e.records[0].shipment_details,a="",n='\n                        <tr>\n                            <th class="br-1" scope="col" width="30%">Product Name</th>\n                            <th scope="col">Courier</th>\n                            <th scope="col" class="edd-column">EDD</th>\n                            <th scope="col" width="20%">Status</th>\n                            <th class="br-2 headcol" scope="col">Action</th>\n                        </tr>';$("#order-date").html(t[0].creation_date.split(" ")[0]),$("#order-id").html(t[0].seller_order_id),s.forEach((function(e){let t,s,n=e.product_details,o=e.current_tracking_status_desc;t="Delivered"==o||"RTO Delivered"==o?"delivered":"Out for Delivery"==o||"RTO Out for Delivery"==o?"label":"Undelivered"==o||"CANCELLED"==o?"cancel":"intransit",$(".tracking-table").removeClass("hidden");let i=e.current_courier_edd&&e.current_courier_edd.trim()?e.current_courier_edd.split(" ")[0]:"N/A";if("Undelivered"===o&&"RTO In Transit"===o&&"RTO Out for Delivery"===o&&"RTO Delivered"===o||(eddColumn=`<td class="align-middle edd-column">${i}</td>`),n.length>1){let i=n.slice(1).map((e=>e.product_name)).join(", ");s=` (+${n.length-1} more products)`,a+=`\n                            <tr>\n                                <td class="align-middle" width="30%">${n[0].product_name} <img class="d-none" src="https://rapidshyp-website-cdn.s3.ap-south-1.amazonaws.com/temp/icon/info.svg"\n                                                    alt="" data-bs-toggle="tooltip" data-bs-placement="top"\n                                                    title="More Products: ${i}"> <p>${s}</p></td>\n                                <td class="align-middle">${e.courier_name}</td>\n                                 ${eddColumn}\n                                <td class="align-middle" width="20%"><span class="${t}">${o}</span></td>\n                                <td class="headcol align-middle"><button class="solid-action-btn" onClick=trackBy('${e.awb}')>Track <i class="fas fa-arrow-up"></i></button></td>\n                            </tr>`}else s=`SKU: ${n[0].product_sku}`,a+=`\n                            <tr>\n                                <td class="align-middle" width="30%">${n[0].product_name} <img src="https://rapidshyp-website-cdn.s3.ap-south-1.amazonaws.com/temp/icon/info.svg"\n                                                    alt="" data-bs-toggle="tooltip" data-bs-placement="top"\n                                                    title="${s}"></td>\n                                <td class="align-middle">${e.courier_name}</td>\n                                 ${eddColumn}\n                                <td class="align-middle" width="20%"><span class="${t}">${o}</span></td>\n                                <td class="headcol align-middle"><button class="solid-action-btn" onClick=trackBy('${e.awb}')>Track <i class="fas fa-arrow-up"></i></button></td>\n                            </tr>`})),$("#trackingTable thead").html(n),$("#trackingTable tbody").html(a),$("#trackingTable").removeClass("hidden"),$("#responseMessage").html(""),s.some((e=>"Undelivered"===e.current_tracking_status_desc||"RTO In Transit"===e.current_tracking_status_desc||"RTO Out for Delivery"===e.current_tracking_status_desc||"RTO Delivered"===e.current_tracking_status_desc||"Delivered"===e.current_tracking_status_desc))&&$(".edd-column").hide()}else $("#responseMessage").html("Shipment Not found....!"),setTimeout((function(){$("#responseMessage").hide()}),3e3),$("#trackingTable").addClass("hidden");$("#order_id").val(""),$("#mobile_no").val(""),$("#awb_no").val(""),$(".ship-loading").hide()},error:function(){$("#responseMessage").html("An error occurred. Please try again.")}})}))})),$('input[name="options"]').change((function(){var e=$(this).attr("id");$(".rate-row").each((function(){var t=$(this).data("mode");"all"===e||e===t?$(this).show():$(this).hide()}))})),$(document).ready((function(){const e=$("#pickup-pincode"),t=$("#delivery-pincode"),s=$(".rateLoader"),a=$("#rateResult"),n=$("#rateTableBody"),o=$("#errorMessage");function i(e,t,s){const a=e.val().length;return a<t?(r(e,`${l(e)} must be at least ${t} characters`),!1):a>s?(r(e,`${l(e)} must be less than ${s} characters`),!1):(function(e){const t=e.parent();t.addClass("success").removeClass("error")}(e),!0)}function r(e,t){const s=e.parent();s.addClass("error").removeClass("success"),s.find("small").text(t)}function l(e){return e.attr("id").charAt(0).toUpperCase()+e.attr("id").slice(1)}$("#shipValue").on("keypress",(function(e){const t=e.which?e.which:e.keyCode;(t<48||t>57)&&e.preventDefault()})),e.on("keyup",(function(){i(e,6,6)})),t.on("keyup",(function(){i(t,6,6)})),$("#calForm").on("submit",(function(l){l.preventDefault();const d=i(e,6,6),c=i(t,6,6);if(d&&c){const i=new FormData(this);o.hide(),n.empty(),a.hide(),s.show(),$.ajax({url:"rates.php",type:"POST",data:i,contentType:!1,processData:!1,dataType:"json",success:function(i){if(s.hide(),"error"===i.result)i.message.includes("Pincode(s) not serviceable")?"pickup"===i.invalid_pincode?r(e,"Pickup pincode not serviceable"):"delivery"===i.invalid_pincode&&r(t,"Delivery pincode not serviceable"):o.text(i.message).show();else if(Array.isArray(i)){a.show();let e="";i.forEach((function(t){e+=`<tr class="rate-row" data-mode="${t.mode}">\n                                        <td>${t.courier}</td>\n                                        <td>${t.icon}</td>\n                                        <td>${t.weight}</td>\n                                        <td>${t.rate}</td>\n                                    </tr>`})),n.html(e)}else o.text("An unexpected error occurred. Please try again.").show()},error:function(e){let t="Failed to fetch rates. Please try again later.";e.responseJSON&&e.responseJSON.message&&(t=e.responseJSON.message),o.text(t).show()}})}})),$("#calForm").on("reset",(function(){a.hide(),o.hide(),$("input").parent().removeClass("error success")}))})),$(document).ready((function(){const e=$("#calculateBtn"),t=$(".actual-weight"),s=$(".chargeable-weight"),a=$(".input-weight"),n=$(".volumeResult");function o(e){e.removeClass("input-error"),e.siblings(".error-message").remove()}e.on("click",(function(){let e=0,i=!0;if($(".parcel").each((function(){const t=$(this).find(".length"),s=$(this).find(".width"),a=$(this).find(".height"),n=parseFloat(t.val()),r=parseFloat(s.val()),l=parseFloat(a.val());n&&r&&l&&n>0&&r>0&&l>0?(e+=n*r*l/5e3,o(t),o(s),o(a),$(".error-message").hide()):($(".error-message").show(),$(".length, .width, .height").addClass("input-error"),i=!1)})),!i)return void n.hide();t.text(`${e.toFixed(1)} KG`);const r=parseFloat(a.val());if(!r||r<=0)return function(e,t){e.addClass("input-error");let s=e.siblings(".error-message");s.length||(s=$('<div class="error-message"></div>'),e.parent().append(s)),s.text(t)}(a,"Please enter a valid weight"),void n.hide();o(a);const l=parseFloat(t.text()),d=Math.max(l,r);s.text(`${d.toFixed(1)} KG`),n.css("display","flex")}))}));